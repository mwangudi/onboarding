@model OnBoarding.ViewModels.CompleteRegistrationViewModel
@{
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
	<div class="card">
		<div class="card-body">
			<h6 style="color: #574B90;">We are almost there, please complete your registration </h6>
		</div>
	</div>
	<div class="row">
		<div class="col-12 col-sm-8 col-lg-8">
			<div class="card">
				<div class="card-body">
					<ul class="nav nav-pills" id="myTab" role="tablist">
						<li class="nav-item">
							<a class="nav-link active show" id="home-tab3" data-toggle="tab" href="#home3" role="tab" aria-controls="home" aria-selected="true">Home</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" id="profile-tab3" data-toggle="tab" href="#profile3" role="tab" aria-controls="profile" aria-selected="false">About</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" id="contact-tab3" data-toggle="tab" href="#contact3" role="tab" aria-controls="contact" aria-selected="false">Help & FAQ </a>
						</li>
						<li class="nav-item">
							<a class="nav-link" id="contact-tab3" data-toggle="tab" href="#termsconditions" role="tab" aria-controls="contact" aria-selected="false"> Terms and Conditions </a>
						</li>
					</ul>
					<div class="tab-content" id="myTabContent">
						<div class="tab-pane fade active show" id="home3" role="tabpanel" aria-labelledby="home-tab3">
							<div class="active" data-tab-group="carousel" id="carousel-simple">
								<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
									<ol class="carousel-indicators">
										<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
										<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
										<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
									</ol>
									<div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <img class="d-block w-100" src="~/Content/images/banners-01.jpg" alt="First slide">
                                        </div>
                                        <div class="carousel-item">
                                            <img class="d-block w-100" src="~/Content/images/banners-02.jpg" alt="Second slide">
                                        </div>
                                        <div class="carousel-item">
                                            <img class="d-block w-100" src="~/Content/images/banners-03.jpg" alt="Third slide">
                                        </div>
                                    </div>
									<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
										<span class="carousel-control-prev-icon" aria-hidden="true"></span>
										<span class="sr-only">Previous</span>
									</a>
									<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
										<span class="carousel-control-next-icon" aria-hidden="true"></span>
										<span class="sr-only">Next</span>
									</a>
								</div>
							</div>
						</div>
						<div class="tab-pane fade" id="profile3" role="tabpanel" aria-labelledby="profile-tab3">
							<p class="m_top_20" style="font-size: 16px;">
								Stanbic Kenya is one of the leading FX providers in the market. <br />
								The Global Markets team offers a comprehensive suite of hedging solutions ranging from vanilla FECs to structured solutions
							</p>
						</div>
						<div class="tab-pane fade" id="contact3" role="tabpanel" aria-labelledby="contact-tab3">
							<div id="accordion">
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-1" aria-expanded="true">
										<h4>Q1: What is eMarketTrader?</h4>
									</div>
									<div class="accordion-body collapse show" id="panel-body-1" data-parent="#accordion" style="">
										eMarketTrader is the Stanbic Bank electronic forex trading platform bringing together market intelligence & research, real-time pricing, trade execution and post-trade services through a single web based platform.
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header collapsed" data-toggle="collapse" data-target="#panel-body-2" aria-expanded="false">
										<h4>Q2: How do I access eMarketTrader?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-2" data-parent="#accordion" style="">
										eMarketTrader can be accessed through the following link:
										<a href="https://emarkettrader.stanbicbank.com/" target="_blank">https://emarkettrader.stanbicbank.com/</a>
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-3">
										<h4>Q3: How do I log in for the first time?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-3" data-parent="#accordion">
										For the first time log in, please use the username and temporary password sent to you by:
										<a href="mailto:cs@standardbank.com">cs@standardbank.com </a> <br />
										Please note that for security reasons, the temporary password is only valid for 96 hours
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-4">
										<h4>Q4: What happens if I fail to use the temporary log in password within 96 hours?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-4" data-parent="#accordion">
										You will need to contact the Bank for a new temporary password through the following contact details: <br />
										Email:	<a href="mailto:emtkenya@stanbic.com">emtkenya@stanbic.com </a>
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-5">
										<h4>Q5: What are the trading hours on eMarketTrader?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-5" data-parent="#accordion">
										Trading hours are from 8:30am to 4:30pm (Monday to Friday).
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-6">
										<h4>Q6: How do I deal with the error “An invalid username or password was supplied”?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-6" data-parent="#accordion">
										Please confirm that you are using the Stanbic Bank link (<a href="https://emarkettrader.stanbicbank.com/" target="_blank">https://emarkettrader.stanbicbank.com/</a> and not the Standard Bank link (<a href="https://emarkettrader.standardbank.com/" target="_blank">https://emarkettrader.standardbank.com/</a>). <br />
										Please confirm that you have entered the correct username and password.
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-7">
										<h4>Q7: How do I reset my password?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-7" data-parent="#accordion">
										Please use the “Forgot your password” link on the main log in page and follow the password self-reset prompts. <br />
										Please note that the password self-reset tool is not valid for the temporary password / first time log in.
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-8">
										<h4>Q8: Is there a fee charged for using E Market Trader?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-8" data-parent="#accordion">
										No, there is no fee for accessing the platform.
									</div>
								</div>
								<div class="accordion">
									<div class="accordion-header" data-toggle="collapse" data-target="#panel-body-9">
										<h4>Q9: Where can I get support in case I have any issues with E Market Trader?</h4>
									</div>
									<div class="accordion-body collapse" id="panel-body-9" data-parent="#accordion">
										Please send an email to emtkenya@stanbic.com
									</div>
								</div>
							</div>
						</div>
						<div role="tabpanel" class="tab-pane fade" id="termsconditions">
							<h4><b>Terms and Conditions</b></h4>
							<p>
								The Services that Stanbic Bank (together with its affiliates, subsidiaries, officers, directors, employees, agents, partners and licensors, Stanbic Bank, "we", or "us") provides to You are subject to the following Stanbic Bank
							</p><br />
							<p>
								Terms and Conditions for accessing the GM Onboarding Portal. By using or accessing the Services, you are agreeing to the terms set out below. If You don't agree to all the terms in this Agreement, you may not use or access the Services.
							</p>
							<h4><span class="step">1</span> <b> Definitions </b></h4>
							<p style="margin-left:35px;">
								'You' and 'Your' mean the client detailed on the Order Form.
							</p>
							<h4><span class="step">2</span> <b> Changes to these terms </b></h4>
							<p style="margin-left:35px;">
								These Terms and Conditions are subject to change from time to time to reflect changes in or requirements of the law or modifications or updates to the Services. Stanbic Bank will notify You if any such change materially and adversely affects Your rights under this Agreement and You will have a right to terminate the Services at no additional cost within 14 days of being notified of change. By continuing to use or access the Services after any revisions come into effect,You agree to be bound by the revised terms.
							</p>
							<h4><span class="step">3</span> <b> Your Login Details </b></h4>
							<p style="margin-left:35px;">
								Please safeguard Your login details for the Service and make sure others don't have access to Your password. <br /><br /> You must immediately notify us of any actual or suspected loss, theft or unauthorised use of the Service or passwords. You are solely responsible for any activity conducted via the Service using Your login details. Stanbic Bank shall not be liable for any unlawful or unauthorised access to the Service.
							</p>
							<h4><span class="step">4</span> <b> Right to Use and Additional Users </b></h4>
							<p style="margin-left:35px;">
								Conditional on Your compliance with these Terms, Stanbic Bank grants You a limited, nonexclusive, non-transferable, revocable license to access and use the Service. <br /><br /> This license is for the sole purpose of enabling You to use the Services for Your internal business purposes. All functions, data, information and materials provided by Stanbic Bank via the Service may only be used by you in the ordinary course of the activities of Your organisation.
							</p>
							<h4><span class="step">5</span> <b> Restrictions </b></h4>
							<p style="margin-left:35px;">
								Stanbic Bank is either the owner or licensed user of the copyright in the material on this website <br /><br />
								Except as permitted in Clause 4 above, You must not and neither shall You authorise any third person to: <br /><br />
								(a) reproduce, copy, download, scrape, store, re-publish, transmit, transfer, communicate, distribute, disseminate, sell, rent, lend or otherwise use the material or the Services, or any part of the material or the Services, in any form or by any means; <br />
								(b) make the Services available to any person other than the Named User; <br />
								(c) convert material downloaded from the Service into an electronic format other than the one in which it was supplied; <br />
								(d) reverse engineer, decompile, disassemble or otherwise attempt to discern the source code of the components of the Services or reproduce all or any portion of the said components; <br />
								(e) combine the whole or any part of the data available on the Services with any other software, data or material; or <br />
								(f) redistribute content from the Service (unless content is specifically made for redistribution), without the written consent of Stanbic Bank, other than to the extent necessary to view the material as permitted by law.<br />
							</p>
							<h4><span class="step">6</span> <b> Commencement of Stanbic Bank Term </b></h4>
							<p style="margin-left:35px;">
								The Term starts from the date of order acceptance or the date of issue of login details to access the Service, whichever is sooner.
							</p>
							<h4><span class="step">7</span> <b> Service Access </b></h4>
							<p style="margin-left:35px;">
								(a) You will provide to us all information, and documents and anything Stanbic Bank need in order to complete access to the Service within specified deadlines. We will not be held responsible in any way for Your failure to do this. <br /><br /> (b) Access to the Service will be taken to have been properly installed unless You advise Stanbic Bank otherwise, in writing, within 14 days of the access date.
							</p>
							<h4><span class="step">8</span> <b> Data Entry  </b></h4>
							<p style="margin-left:35px;">
								You will be responsible for data entry. Stanbic Bank does not accept responsibility for the accuracy of this data entry.
							</p>
							<h4><span class="step">9</span> <b> Your Information Technology and Communications Infrastructure </b></h4>
							<p style="margin-left:35px;">
								It is Your responsibility to ensure that Your information technology and communications infrastructure (ITC) is compatible with the Service and You should note that: <br /><br />
								(a) The Service may not operate properly (or at all) if up to date versions of the internet browser are not accessible by You. <br /><br />
								(b) Stanbic Bank does not accept any responsibility for defects, data corruptions, Service failures or performance degradation caused by viruses or other software or components on Your hardware that may interfere with the way the Service operates. <br /><br />
								(c) It is Your responsibility to ensure that Your ITC is properly maintained and is not changed in a way which may adversely affect access to the Service. <br /><br />
								(d) Any work done by Stanbic Bank due to failure to comply with (a) to (c) above may be charged to You at standard development rates. <br /><br />
								(e) During the Term, Stanbic Bank may offer a mandatory upgrade of Services to newer versions. This will happen if the Service or any third-party component used by Stanbic Bank ceases to be supported by their respective vendors, or if Stanbic Bank decides that support of the existing version is no longer viable. In such cases, Stanbic Bank will offer the upgrade free of any license fees, but may charge fees for data conversion, or refer You to a Stanbic Bank partner where fees may also be charged.
							</p>
							<h4><span class="step">10</span> <b> Internet Speed </b></h4>
							<p style="margin-left:35px;">
								The Service is subject to the limitations inherent in the use of the Internet and other 3rd party communication software and devices and Stanbic Bank is not responsible for any delays, delivery failures, or other damage resulting from their use
							</p>
							<h4><span class="step">11</span> <b> Force Majeure and Delay Beyond Stanbic Bank’s Control </b></h4>
							<p style="margin-left:35px;">
								Stanbic Bank will not be responsible for delays or failure to perform resulting from acts beyond its control, including but not limited to, acts of God, strikes, walkouts, riots, acts of war, epidemics, earthquakes or other disasters and failure of suppliers to perform including telecommunication breakdowns or interruptions and power failures.
							</p>
							<h4><span class="step">12</span> <b> Fitness For Purpose </b></h4>
							<p style="margin-left:35px;">
								Stanbic Bank does not guarantee or warrant the fitness of the Service for any purpose other than the purpose for which it is supplied.
							</p>
							<h4><span class="step">13</span> <b> Termination </b></h4>
							<p style="margin-left:35px;">
								This Agreement will be terminated by either party by providing written notice thereof of 5 business days. Stanbic Bank will not provide notice before termination where: <br /><br />
								(a) You are in material breach of the terms of the Agreement; <br /><br />
								(b) doing so would cause us legal liability or compromise our ability to provide the Service to our other users; or <br /><br />
								(c) we are prohibited from doing so by law.
							</p>
							<h4><span class="step">14</span> <b> Client Acknowledgements and, Warranties </b></h4>
							<p style="margin-left:35px;">
								Except as expressly provided in this Agreement and to the extent permitted in accordance with applicable law, Stanbic Bank disclaims all warranties of any kind for the Services provided. You acknowledge that: <br /><br />
								(a) Stanbic Bank does not warrant or represent that any legal or accounting information, precedents, letters, documents or examples provided are necessarily correct and up-to-date; <br /><br />
								(b) The Service is provided on an “as is” and “as available” basis and Stanbic Bank does not guarantee, represent, or warrant that Your use of the service will be uninterrupted or error-free; <br /><br />
								(c) You are responsible for ensuring that all persons who access the Service through Your account are aware of these terms and conditions and other applicable terms and conditions, and that they comply with them. <br /><br />
								(d) Stanbic Bank does not provide any legal advice or legal services, accounting or bookkeeping advice by providing the Service; and <br /><br />
								(e) Any legal information, practice guides, legal forms, precedents, letters or documents are provided as examples only and are provided on the basis that all Your users, being suitably qualified or working under the direction of suitably qualified personnel will rely
								on their own knowledge and enquiries as to the accuracy and currency of any information contained in the Service.
							</p>
							<h4><span class="step">15</span> <b> Limitation of Liability </b></h4>
							<p style="margin-left:35px;">
								Stanbic Bank's liability to You is not limited or excluded where and to the extent such liability cannot be limited or excluded in accordance with applicable law. In all other circumstances, Stanbic Bank will not be liable to You or to any third party for any costs, expenses, losses and damages incurred in relation to the Service, whether that liability arises in contract, tort (including by Stanbic Bank‟s negligence) or under statute. Without limitation, Stanbic Bank will in no circumstances be liable for any indirect or consequential losses, loss of profits, loss of revenue or loss of business opportunity. <br /><br />
								To the extent permissible by applicable law, Stanbic Bank‟s aggregate liability, for any cause whatsoever, and regardless of the form of the action, is limited to the amount of fees paid, if any, by You for the Service in the 6 months prior to the claim.
							</p>
							<h4><span class="step">16</span> <b> Your Obligations </b></h4>
							<p style="margin-left:35px;">
								It is your sole responsibility to ensure that the data You provide to Stanbic Bank is accurate and that the receipt of the said data will not place Stanbic Bank in breach of any applicable legislation. You shall fully indemnify Stanbic Bank against all losses arising from or incurred by it as a result of the receipt of such data.
							</p>
							<h4><span class="step">17</span> <b> Indemnification </b></h4>
							<p style="margin-left:35px;">
								You will defend, indemnify and hold Stanbic Bank and its third-party licensors harmless from any and all liabilities, damages, losses, expenses, demands, claims, suits or judgments, including reasonable attorneys' fees, costs and expenses arising from Your unauthorised use of the Service.
							</p>
							<h4><span class="step">18</span> <b> Confidentiality, Privacy and disclosure of Your Personal Information </b></h4>
							<p style="margin-left:35px;">
								(a) It may from time to time be necessary for Stanbic Bank to review Your information for the purposes of providing support services under this Agreement. Stanbic Bank undertakes to exercise the utmost good faith in maintaining all such information as confidential and will only use that information for the purposes of this Agreement. <br /><br />
								(b) In order to deliver the services You require, we may disclose Your personal information to organisations outside of Stanbic Bank. Your personal information will only be disclosed to these organisations for the purpose of providing our services to you. Stanbic Bank takes reasonable steps to ensure that these organisations are bound by confidentiality and privacy obligations in relation to the protection of Your personal information. Should You not wish to allow Stanbic Bank to disclose Your personal
								information to affiliated organisations outside of Stanbic Bank for this purpose, You must notify Stanbic Bank in writing.
							</p>
							<h4><span class="step">19</span> <b> Suspension or Modification of the Services </b></h4>
							<p style="margin-left:35px;">
								We reserve the right to suspend access to the Service, in whole or in part, until further notice, with immediate effect: <br /><br />
								(a) to periodically maintain or improve the Service; <br /><br />
								(b) if we reasonably believe You are using the Services in a way which constitutes a breach of these Terms, or is likely to be found illegal. <br /><br />
								Stanbic Bank will endeavor, where possible to provide You with reasonable notice of such suspension.
							</p>
							<h4><span class="step">20</span> <b> Acknowledgements </b></h4>
							<p style="margin-left:35px;">
								You acknowledge that You have conducted Your own due diligence and selected the Service based upon Your own skill and judgment and You have satisfied Yourself as to the suitability of the Service.
							</p>
							<h4><span class="step">21</span> <b> Entire Agreement </b></h4>
							<p style="margin-left:35px;">
								This Agreement and the documents expressly referred to herein constitute the entire agreement between the parties and supersedes and replaces any other prior or contemporaneous agreements, or terms and conditions applicable to the subject matter of this Agreement. This Agreement creates no third-party beneficiary rights.
							</p>
							<h4><span class="step">22</span> <b> Controlling Law </b></h4>
							<p style="margin-left:35px;">
								This Agreement and the Services shall be governed by the laws of the Republic of Kenya and all disputes shall be referred to arbitral resolution in accordance with prevailing arbitration laws in Kenya.
							</p>
							<h4><span class="step">23</span> <b>  Waiver, Severability and Assignment. </b></h4>
							<p style="margin-left:35px;">
								Stanbic Bank's failure to enforce any provision of this Agreement is not a waiver of our right to do so later. If any provision of this Agreement is found unenforceable, the remaining provisions will remain in full effect and an enforceable term will be substituted reflecting our intent as closely as possible. You may not assign any of Your rights under this Agreement, and any such attempt will be void. We may assign our rights under this Agreement.
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-12 col-sm-4 col-lg-4">
			<div class="card card-primary">
				<div class="card-body">
					@using (Html.BeginForm("CompleteRegistration", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
					{
						@Html.AntiForgeryToken()
						<h6 style="color: #574B90;"><small>Provide the One time pin (OTP) send earlier via Email </small></h6>
						<hr style="margin-bottom:5px;" />
						@Html.ValidationSummary(true, "", new { @class = "text-danger" }) <br />
						<div class="form-group">
							@Html.LabelFor(m => m.RegistrationEmail)  <br />
							@Html.ValidationMessageFor(m => m.RegistrationEmail, "", new { @class = "text-danger" })
							@Html.TextBoxFor(m => m.RegistrationEmail, new { @class = "form-control", @placeholder = "Registration Email", @Type = "email", @autocomplete = "off" })
							<small id="emailHelp" class="form-text text-muted">Enter Your Registration Email.</small>
						</div>
						<div class="form-group">
							@Html.LabelFor(m => m.OTP)  <br />
							@Html.ValidationMessageFor(m => m.OTP, "", new { @class = "text-danger" })
							@Html.TextBoxFor(m => m.OTP, new { @class = "form-control", @placeholder = "One time pin", @Type = "password", @autocomplete = "off" })
							<small id="emailHelp" class="form-text text-muted">Provide the OTP sent earlier via email.</small>
						</div>
						<div class="form-group">
							@Html.LabelFor(m => m.Password)  <br />
							@Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
							@Html.TextBoxFor(m => m.Password, new { @class = "form-control", @autocomplete = "off", @placeholder = "Create New Password", @Type = "password" })
							<small id="passwordHelp" class="form-text" style="color: #0267FF;">Password should be atleast 8 apha-numeric characters including special characters.</small>
						</div>
						<div class="form-group">
							@Html.LabelFor(m => m.ConfirmPassword)  <br />
							@Html.ValidationMessageFor(m => m.ConfirmPassword, "", new { @class = "text-danger" })
							@Html.TextBoxFor(m => m.ConfirmPassword, new { @class = "form-control", @autocomplete = "off", @placeholder = "Confirm Password", @Type = "password" })
						</div>
						<div class="form-group">
							<button type="submit" name="submit" value="Register" class="btn btn-primary btn-md w_full">
								<span class="fa fa-check-circle"></span> Complete Registration
							</button>
						</div>
					}
				</div>
			</div>
		</div>
	</div> <hr />
</div>
<!--Start Confirm Delete Modal -->
<div class="modal fade right" id="LoadUpModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<!-- Add class .modal-side and then add class .modal-top-right (or other classes from list above) to set a position to the modal -->
	<div class="modal-dialog modal-side modal-top-right" style="width:500px;" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title w-100" id="myModalLabel"><i class="fa fa-recycle"></i> Reset Expired OTP </h4>
				<button type="button" id="closemodalup" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body students-data mb-0"></div>
			<div class="modal-footer mb-0">
				<div class="col-lg-12">
					<center> <b> Global Markets Onboarding System  &copy; Stanbic Bank Kenya </b> </center>
				</div>
			</div>
		</div>
	</div>
</div>
<!--End Confirm Delete Modal -->

@section Scripts {
	<script type="text/javascript">
		$(document).ready(function () {
			//Load modal
			function LoadUpModal(XmlHttpRequest) {
				$('#LoadUpModal').modal({ backdrop: 'static', keyboard: false });
				$.ajax({
					type: "POST",
					url: "/Account/LoadResendOTP",
					data: '{getClientId: "' + XmlHttpRequest + '" }',
					contentType: "application/json; charset=utf-8",
					dataType: "html",
					success: function (data) {
						$('.students-data').html(data);
					}
				});
			}

			//Close modal fnction
			$('#closemodal').on('click', function () {
				$('#LoadUpModal').modal('hide');
			})

			//Check if OTP has expired
			$('#OTP').on('blur', function () {
				var dataObject = JSON.stringify({
					'OTPCode': $('#OTP').val(),
					'Email': $('#RegistrationEmail').val()
				});
				$.ajax({
					url: '/Account/OTPHasExpired',
					type: 'POST',
					contentType: 'application/json',
					data: dataObject,
					success: function (XmlHttpRequest) {
						if (XmlHttpRequest == 'fail') {
							//Do Nothing
						}
						else {
							LoadUpModal(XmlHttpRequest);
						}
					}
				});
			});
		});
	</script>
}
